#  Linux C编程一站式学习笔记

[Linux C编程一站式学习 (akaedu.github.io)](http://akaedu.github.io/book/index.html)

##  一、程序基本概念

###  1、程序和编程语言

* 程序有一系列指令组成，通常包括以下几种：

  * 输入
  * 输出
  * 基本运算
  * 测试分支
  * 循环

* **编写程序可以说就是这样一个过程：把复杂的任务分解成子任务，把子任务再分解成更简单的任务，层层分解，直到最后简单得可以用以上指令来完成。**

* 平台的解释：

  * 计算机体系结构
  * 操作系统
  * 开发平台（编译器、链接器等）

* 编译（compile）过程

  ![编译执行的过程](./images_学习笔记\intro.compile.png)

  * 用文本编辑器写一个C程序，然后保存成一个文件，例如`program.c`（通常C程序的文件名后缀是`.c`），这称为源代码（Source Code）或源文件，
  * 运行编译器编译源文件，编译的过程并不执行程序，而是把源代码全部翻译成机器指令，再加上一些描述信息，生成一个新的文件，例如`a.out`，这称为可执行文件
  * 可执行文件可以被操作系统加载运行，计算机执行该文件中由编译器生成的指令

* 解释（Interpret）过程

  ![解释执行的过程](./images_学习笔记\intro.interpret.png)

* 编程语言演化

  * 机器语言称为第一代语言（1GL，1st Generation Programming Language）
  * 汇编语言称为第二代语言（2GL，2nd Generation Programming Language）
  * C、C++、Java、Python等可以称为第三代语言（3GL，3rd Generation Programming Language）
  * 4GL（4th Generation Programming Language），例如SQL语言（SQL，Structured Query Language，结构化查询语言）
    * 4GL以后的编程语言更多是描述要做什么（Declarative）而不描述具体一步一步怎么做（Imperative）
  * 5GL（5th Generation Programming Language）

###  问题

1. 解释执行的语言相比编译执行的语言有什么优缺点?

> 解释执行的语言
>
> 优点：
>
> 1、解释执行不依赖于平台，因为编译器会根据不同的平台进行解析
>
> 2、开发速度快，出现严重BUG的几率小
>
> 缺点：
>
> 1、解析需要时间，不生成目标程序而是一句一句执行的方式会造成计算机资源的浪费，即执行效率低
>
> 2、解释语言需要把源代码交给用户

> 编译执行：
>
> 优点
>
> 1、相较于解释执行，编译执行的效率高，占用资源小，适合复杂程序
>
> 缺点：
>
> 兼容性差



##  二、自然语言和形式语言

* 1、自然语言：不是人为设计（虽然有人试图强加一些规则）而是自然进化的语言

  ​	  形式语言：为了特定应用而人为设计的语言

* 2、形式语言有严格的`语法`（Syntax）规则，语法规则是由`符号`（Token）和结构（Structure）的规则所组成的

  * Token的概念相当于自然语言中的单词和标点、数学式中的数和运算符、化学分子式中的元素名和数字
  * 结构是指Token的排列方式
  * 关于Token的规则称为`词法（Lexical）规则`，而关于结构的规则称为`语法（Grammar）规则`[^1]

* 3、自然语言和形式语言的区别：

  * 歧义性
  * 冗余性
  * 与字面意思的一致性（隐喻）

[^1]:很不幸，Syntax和Grammar通常都翻译成“语法”，这让初学者非常混乱，Syntax的含义其实包含了Lexical和Grammar的规则，还包含一部分语义的规则，例如在C程序中变量应先声明后使用。即使在英文的文献中Syntax和Grammar也常混用，在有些文献中Syntax的含义不包括Lexical规则，只要注意上下文就不会误解。另外，本书在翻译容易引起混淆的时候通常直接用英文名称，例如Token没有十分好的翻译，直接用英文名称。

##  三、程序的调试

* BUG类型
  * 编译时错误：导致编译器无法继续编译的错误。一般是语法错误。
  * 运行时错误：编译器检查不出，仍然可以生成可执行文件，但在运行时会出错而导致程序崩溃的错误
  * 逻辑错误和语义错误：可正常运行，但所实现的功能与设计不符。一般是程序的意思（即语义）是错的

##  四、第一个程序

程序实例

~~~C
#include <stdio.h>

/* main: generate some simple output */

int main(void)
{
	printf("Hello, world.\n");
	return 0;
}
~~~

将这个程序保存成`main.c`，然后编译执行：

~~~C
$ gcc main.c
$ ./a.out
Hello, world.
~~~

`gcc`是Linux平台的C编译器，编译后在当前目录下生成可执行文件`a.out`，直接在命令行输入这个可执行文件的路径就可以执行它。如果不想把文件名叫`a.out`，可以用`gcc`的`-o`参数自己指定文件名：

~~~C
$ gcc main.c -o main
$ ./main
Hello, world.
~~~

* 警告信息不是致命错误，编译仍然可以继续，如果整个编译过程只有警告信息而没有错误信息，仍然可以生成可执行文件
* 警告信息也是不容忽视的。出警告信息说明你的程序写得不够规范，可能有Bug，虽然能编译生成可执行文件，但程序的运行结果往往是不正确的
* **一个好的习惯是打开`gcc`的`-Wall`选项，也就是让`gcc`提示所有的警告信息，不管是严重的还是不严重的，然后把这些问题从代码中全部消灭**

###  习题

1、尽管编译器的错误提示不够友好，但仍然是学习过程中一个很有用的工具。你可以像上面那样，从一个正确的程序开始每次改动一小点，然后编译看是什么结果，如果出错了，就尽量记住编译器给出的错误提示并把改动还原。因为错误是你改出来的，你已经知道错误原因是什么了，所以能很容易地把错误原因和错误提示信息对应起来记住，这样下次你在毫无防备的情况下撞到这个错误提示时就会很容易想到错误原因是什么了。这样反复练习，有了一定的经验积累之后面对编译器的错误提示就会从容得多了。

##  五、注释

